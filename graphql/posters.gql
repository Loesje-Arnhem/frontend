fragment PosterBase on Poster {
  id
  databaseId
  title
}

fragment Poster on Poster {
  ...PosterBase
  uri
  slug
  featuredImage {
    ...FeaturedImage
  }
}

fragment RelatedPosterNode on ContentNodeToPosterConnectionEdge {
  node {
    ...Poster
  }
}

fragment RelatedPosters on ContentNodeToPosterConnection {
  edges {
    ...RelatedPosterNode
  }
}

fragment PosterDetails on Poster {
  ...PosterBase
  slug
  date
  uri
  link
  featuredImage {
    ...FeaturedImage
  }
  PosterMetaGroup {
    date
    pdf {
      mediaItemUrl
    }
  }
  sources {
    edges {
      node {
        ...sourceDetails
      }
    }
  }
  subjects {
    edges {
      node {
        ...subjectDetails
      }
    }
  }
}

fragment PosterNode on RootQueryToPosterConnectionEdge {
  node {
    ...Poster
  }
}

fragment Posters on RootQueryToPosterConnection {
  edges {
    ...PosterNode
  }
}

query GetPoster($slug: ID!) {
  poster(id: $slug, idType: SLUG) {
    ...PosterDetails
    # relatedProducts: relatedProductsGroup {
    #   ...posterRelatedProducts
    # }


    # seo {
    #   ...seo
    # }
  }
}

query GetPosters(
  $after: String
  $where: RootQueryToPosterConnectionWhereArgs
) {
  posters(first: 20, after: $after, where: $where) {
    pageInfo {
      hasNextPage
      endCursor
      hasPreviousPage
      startCursor
    }
    ...Posters
  }
}
